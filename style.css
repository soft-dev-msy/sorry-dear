:root {
  --bg: #050505;
  --text: #d4d4d4;
  --dim: #444;
  --accent: #b22222;
}

body, html {
  margin: 0;
  padding: 0;
  background-color: var(--bg);
  color: var(--text);
  font-family: 'Courier New', Courier, monospace;
  height: 100%;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  touch-action: manipulation;
}

#stage {
  width: 85%;
  max-width: 500px;
  text-align: center;
  position: relative;
  z-index: 2;
}

/* Scenes */
.scene {
  display: none;
  opacity: 0;
  transition: opacity 1.5s ease;
}

.scene.active {
  display: flex;
  flex-direction: column;
  align-items: center;
  opacity: 1;
}

/* Interaction Elements */
.flicker-cursor {
  font-size: 4rem;
  animation: blink 1.2s step-end infinite;
  cursor: pointer;
  color: var(--text);
}

@keyframes blink {
  from, to {opacity: 1;}
  50% {opacity: 0;}
}

.message-container {
  min-height: 120px;
  font-size: 1.05rem;
  line-height: 1.6;
  margin-bottom: 20px;
}

.shaky {
  animation: tremble 0.5s infinite linear;
}

@keyframes tremble {
  0% { transform: translate(0, 0,); }
  25% { transform: translate(-0.3, 0.3px); }
  75% { transform: translate(0.3px, -0.3px); }
}

/* Mobilize Optimized ASCII Heart */
#heart-display {
  font-size: 8px; /* Shrunk for mobile screens */
  line-height: 8px;
  color: var(--accent);
  white-space: pre;
  margin: 15px 0;
  user-select: none;
}

.rewind-btn {
  background: none;
  border: 1px solid var(--dim);
  color: var(--dim);
  padding: 12px 24px;
  margin-top: 30px;
  text-transform: lowercase;
  font-family: inherit;
  font-size: 0.9rem;
}

/* The Secret Message (Replacing Console Log) */
#secret-note-trigger {
  position: fixed;
  bottom: 40px;
  font-size: 1.5rem;
  opacity: 0;
  transition: opacity 2s ease;
  cursor: pointer;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); opacity: 0.5; }
}

#overlay-note {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(5, 5, 5, 0.95);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10;
  padding: 30px;
  box-sizing: border-box;
}

.note-content {
  border: 1px solid dashed var(--dim);
  padding: 20px;
  font-style: italic;
  font-size: 0.95rem;
  color: #aaa;
}

.footer-eggs {
  position: fixed;
  bottom: 15px;
  font-size: 0.65rem;
  color: #222;
  width: 100%;
  text-align: center;
}

.glitch { animation: glitch-anim 0.25s linear; }
@keyframes glitch-anim {
  0% { filter: invert(0); }
  50%  { filter: invert(1) hue-rotate(90deg); }
  100% { filter: invert(0); }
}